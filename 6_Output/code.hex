  Offset: 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F 	
00000000: 23 69 6E 63 6C 75 64 65 20 22 64 68 74 2E 68 22    #include."dht.h"
00000010: 0D 0A 23 64 65 66 69 6E 65 20 64 68 74 5F 61 70    ..#define.dht_ap
00000020: 69 6E 20 32 20 2F 2F 20 41 6E 61 6C 6F 67 20 50    in.2.//.Analog.P
00000030: 69 6E 20 73 65 6E 73 6F 72 20 69 73 20 63 6F 6E    in.sensor.is.con
00000040: 6E 65 63 74 65 64 20 74 6F 0D 0A 64 68 74 20 44    nected.to..dht.D
00000050: 48 54 3B 0D 0A 23 69 6E 63 6C 75 64 65 3C 4C 69    HT;..#include<Li
00000060: 71 75 69 64 43 72 79 73 74 61 6C 2E 68 3E 0D 0A    quidCrystal.h>..
00000070: 4C 69 71 75 69 64 43 72 79 73 74 61 6C 20 6C 63    LiquidCrystal.lc
00000080: 64 28 31 33 2C 31 32 2C 36 2C 37 2C 39 2C 38 29    d(13,12,6,7,9,8)
00000090: 3B 0D 0A 23 69 6E 63 6C 75 64 65 20 3C 53 6F 66    ;..#include.<Sof
000000a0: 74 77 61 72 65 53 65 72 69 61 6C 2E 68 3E 0D 0A    twareSerial.h>..
000000b0: 53 6F 66 74 77 61 72 65 53 65 72 69 61 6C 20 66    SoftwareSerial.f
000000c0: 69 6E 67 65 72 50 72 69 6E 74 28 31 30 2C 20 31    ingerPrint(10,.1
000000d0: 31 29 3B 0D 0A 23 69 6E 63 6C 75 64 65 3C 53 65    1);..#include<Se
000000e0: 72 76 6F 2E 68 3E 0D 0A 53 65 72 76 6F 20 6D 79    rvo.h>..Servo.my
000000f0: 53 65 72 76 6F 3B 0D 0A 20 0D 0A 23 69 6E 63 6C    Servo;.....#incl
00000100: 75 64 65 20 3C 41 64 61 66 72 75 69 74 5F 46 69    ude.<Adafruit_Fi
00000110: 6E 67 65 72 70 72 69 6E 74 2E 68 3E 0D 0A 75 69    ngerprint.h>..ui
00000120: 6E 74 38 5F 74 20 69 64 3B 0D 0A 41 64 61 66 72    nt8_t.id;..Adafr
00000130: 75 69 74 5F 46 69 6E 67 65 72 70 72 69 6E 74 20    uit_Fingerprint.
00000140: 66 69 6E 67 65 72 20 3D 20 41 64 61 66 72 75 69    finger.=.Adafrui
00000150: 74 5F 46 69 6E 67 65 72 70 72 69 6E 74 28 26 61    t_Fingerprint(&a
00000160: 6D 70 3B 66 69 6E 67 65 72 50 72 69 6E 74 29 3B    mp;fingerPrint);
00000170: 0D 0A 23 64 65 66 69 6E 65 20 72 61 62 69 6E 20    ..#define.rabin.
00000180: 41 38 0D 0A 23 64 65 66 69 6E 65 20 65 6E 72 6F    A8..#define.enro
00000190: 6C 6C 20 41 30 0D 0A 23 64 65 66 69 6E 65 20 64    ll.A0..#define.d
000001a0: 65 6C 20 41 31 0D 0A 23 64 65 66 69 6E 65 20 75    el.A1..#define.u
000001b0: 70 20 41 32 0D 0A 23 64 65 66 69 6E 65 20 64 6F    p.A2..#define.do
000001c0: 77 6E 20 41 33 0D 0A 23 64 65 66 69 6E 65 20 6F    wn.A3..#define.o
000001d0: 70 65 6E 4C 69 67 68 74 20 33 0D 0A 23 64 65 66    penLight.3..#def
000001e0: 69 6E 65 20 63 6C 6F 73 65 4C 69 67 68 74 20 34    ine.closeLight.4
000001f0: 0D 0A 23 64 65 66 69 6E 65 20 73 65 72 76 6F 50    ..#define.servoP
00000200: 69 6E 20 35 0D 0A 20 0D 0A 76 6F 69 64 20 73 65    in.5.....void.se
00000210: 74 75 70 28 29 20 0D 0A 7B 0D 0A 20 20 20 20 64    tup()...{......d
00000220: 65 6C 61 79 28 31 30 30 30 29 3B 0D 0A 20 20 20    elay(1000);.....
00000230: 20 6D 79 53 65 72 76 6F 2E 61 74 74 61 63 68 28    .myServo.attach(
00000240: 73 65 72 76 6F 50 69 6E 29 3B 0D 0A 20 20 20 20    servoPin);......
00000250: 6D 79 53 65 72 76 6F 2E 77 72 69 74 65 28 31 38    myServo.write(18
00000260: 30 29 3B 0D 0A 20 20 20 20 70 69 6E 4D 6F 64 65    0);......pinMode
00000270: 28 65 6E 72 6F 6C 6C 2C 20 49 4E 50 55 54 5F 50    (enroll,.INPUT_P
00000280: 55 4C 4C 55 50 29 3B 0D 0A 20 20 20 20 70 69 6E    ULLUP);......pin
00000290: 4D 6F 64 65 28 75 70 2C 20 49 4E 50 55 54 5F 50    Mode(up,.INPUT_P
000002a0: 55 4C 4C 55 50 29 3B 20 0D 0A 20 20 20 20 70 69    ULLUP);.......pi
000002b0: 6E 4D 6F 64 65 28 64 6F 77 6E 2C 20 49 4E 50 55    nMode(down,.INPU
000002c0: 54 5F 50 55 4C 4C 55 50 29 3B 20 0D 0A 20 20 20    T_PULLUP);......
000002d0: 20 70 69 6E 4D 6F 64 65 28 64 65 6C 2C 20 49 4E    .pinMode(del,.IN
000002e0: 50 55 54 5F 50 55 4C 4C 55 50 29 3B 20 0D 0A 20    PUT_PULLUP);....
000002f0: 20 20 20 70 69 6E 4D 6F 64 65 28 72 61 62 69 6E    ...pinMode(rabin
00000300: 2C 20 49 4E 50 55 54 5F 50 55 4C 4C 55 50 29 3B    ,.INPUT_PULLUP);
00000310: 20 0D 0A 20 20 20 20 70 69 6E 4D 6F 64 65 28 6F    .......pinMode(o
00000320: 70 65 6E 4C 69 67 68 74 2C 20 4F 55 54 50 55 54    penLight,.OUTPUT
00000330: 29 3B 0D 0A 20 20 20 20 70 69 6E 4D 6F 64 65 28    );......pinMode(
00000340: 63 6C 6F 73 65 4C 69 67 68 74 2C 20 4F 55 54 50    closeLight,.OUTP
00000350: 55 54 29 3B 0D 0A 20 20 20 20 6C 63 64 2E 62 65    UT);......lcd.be
00000360: 67 69 6E 28 31 36 2C 32 29 3B 0D 0A 20 20 20 20    gin(16,2);......
00000370: 44 48 54 2E 72 65 61 64 31 31 28 64 68 74 5F 61    DHT.read11(dht_a
00000380: 70 69 6E 29 3B 0D 0A 20 20 20 20 20 0D 0A 20 20    pin);...........
00000390: 20 20 6C 63 64 2E 73 65 74 43 75 72 73 6F 72 28    ..lcd.setCursor(
000003a0: 30 2C 30 29 3B 0D 0A 20 20 20 20 6C 63 64 2E 70    0,0);......lcd.p
000003b0: 72 69 6E 74 28 22 20 20 20 20 4D 41 4E 4D 4F 48    rint("....MANMOH
000003c0: 41 4E 20 22 29 3B 0D 0A 20 20 20 6C 63 64 2E 73    AN.");.....lcd.s
000003d0: 65 74 43 75 72 73 6F 72 28 30 2C 31 29 3B 0D 0A    etCursor(0,1);..
000003e0: 20 20 20 6C 63 64 2E 70 72 69 6E 74 28 22 50 4F    ...lcd.print("PO
000003f0: 4C 59 54 45 43 48 4E 49 43 20 43 4F 4C 4C 41 47    LYTECHNIC.COLLAG
00000400: 45 22 29 3B 0D 0A 20 20 20 20 6C 63 64 2E 73 63    E");......lcd.sc
00000410: 72 6F 6C 6C 44 69 73 70 6C 61 79 4C 65 66 74 28    rollDisplayLeft(
00000420: 29 3B 0D 0A 20 20 20 20 64 65 6C 61 79 28 31 30    );......delay(10
00000430: 30 30 29 3B 0D 0A 20 20 20 20 6C 63 64 2E 73 63    00);......lcd.sc
00000440: 72 6F 6C 6C 44 69 73 70 6C 61 79 4C 65 66 74 28    rollDisplayLeft(
00000450: 29 3B 0D 0A 20 20 20 20 64 65 6C 61 79 28 31 30    );......delay(10
00000460: 30 30 29 3B 0D 0A 20 20 20 20 6C 63 64 2E 73 63    00);......lcd.sc
00000470: 72 6F 6C 6C 44 69 73 70 6C 61 79 4C 65 66 74 28    rollDisplayLeft(
00000480: 29 3B 0D 0A 20 20 20 20 64 65 6C 61 79 28 31 30    );......delay(10
00000490: 30 30 29 3B 0D 0A 20 20 20 20 6C 63 64 2E 73 63    00);......lcd.sc
000004a0: 72 6F 6C 6C 44 69 73 70 6C 61 79 4C 65 66 74 28    rollDisplayLeft(
000004b0: 29 3B 0D 0A 20 20 20 20 64 65 6C 61 79 28 35 30    );......delay(50
000004c0: 30 30 29 3B 0D 0A 20 20 20 20 6C 63 64 2E 63 6C    00);......lcd.cl
000004d0: 65 61 72 28 29 3B 0D 0A 20 20 20 20 66 69 6E 67    ear();......fing
000004e0: 65 72 2E 62 65 67 69 6E 28 35 37 36 30 30 29 3B    er.begin(57600);
000004f0: 0D 0A 20 20 20 20 53 65 72 69 61 6C 2E 62 65 67    ......Serial.beg
00000500: 69 6E 28 39 36 30 30 29 3B 0D 0A 20 20 20 20 6C    in(9600);......l
00000510: 63 64 2E 63 6C 65 61 72 28 29 3B 0D 0A 20 20 20    cd.clear();.....
00000520: 20 6C 63 64 2E 70 72 69 6E 74 28 22 20 46 69 6E    .lcd.print(".Fin
00000530: 64 69 6E 67 20 4D 6F 64 75 6C 65 20 22 29 3B 0D    ding.Module.");.
00000540: 0A 20 20 20 20 6C 63 64 2E 73 65 74 43 75 72 73    .....lcd.setCurs
00000550: 6F 72 28 30 2C 31 29 3B 0D 0A 20 20 20 20 64 65    or(0,1);......de
00000560: 6C 61 79 28 32 30 30 30 29 3B 0D 0A 20 20 20 20    lay(2000);......
00000570: 69 66 20 28 66 69 6E 67 65 72 2E 76 65 72 69 66    if.(finger.verif
00000580: 79 50 61 73 73 77 6F 72 64 28 29 29 20 0D 0A 20    yPassword())....
00000590: 20 20 20 7B 0D 0A 20 20 20 20 20 20 53 65 72 69    ...{........Seri
000005a0: 61 6C 2E 70 72 69 6E 74 6C 6E 28 22 46 6F 75 6E    al.println("Foun
000005b0: 64 20 66 69 6E 67 65 72 70 72 69 6E 74 20 73 65    d.fingerprint.se
000005c0: 6E 73 6F 72 21 22 29 3B 0D 0A 20 20 20 20 20 20    nsor!");........
000005d0: 6C 63 64 2E 63 6C 65 61 72 28 29 3B 0D 0A 20 20    lcd.clear();....
000005e0: 20 20 20 20 6C 63 64 2E 70 72 69 6E 74 28 22 20    ....lcd.print(".
000005f0: 4D 6F 64 75 6C 65 20 46 6F 75 6E 64 20 20 22 29    Module.Found..")
00000600: 3B 0D 0A 20 20 20 20 20 20 64 65 6C 61 79 28 32    ;........delay(2
00000610: 30 30 30 29 3B 0D 0A 20 20 20 20 7D 20 0D 0A 20    000);......}....
00000620: 20 20 20 65 6C 73 65 0D 0A 20 20 20 20 7B 0D 0A    ...else......{..
00000630: 20 20 20 20 53 65 72 69 61 6C 2E 70 72 69 6E 74    ....Serial.print
00000640: 6C 6E 28 22 44 69 64 20 6E 6F 74 20 66 69 6E 64    ln("Did.not.find
00000650: 20 66 69 6E 67 65 72 70 72 69 6E 74 20 73 65 6E    .fingerprint.sen
00000660: 73 6F 72 20 3A 28 22 29 3B 0D 0A 20 20 20 20 6C    sor.:(");......l
00000670: 63 64 2E 63 6C 65 61 72 28 29 3B 0D 0A 20 20 20    cd.clear();.....
00000680: 20 6C 63 64 2E 70 72 69 6E 74 28 22 4D 6F 64 75    .lcd.print("Modu
00000690: 6C 65 20 4E 6F 74 20 46 6F 75 6E 64 22 29 3B 0D    le.Not.Found");.
000006a0: 0A 20 20 20 20 6C 63 64 2E 73 65 74 43 75 72 73    .....lcd.setCurs
000006b0: 6F 72 28 30 2C 31 29 3B 0D 0A 20 20 20 20 6C 63    or(0,1);......lc
000006c0: 64 2E 70 72 69 6E 74 28 22 43 68 65 63 6B 20 43    d.print("Check.C
000006d0: 6F 6E 6E 65 63 74 69 6F 6E 73 22 29 3B 0D 0A 20    onnections");...
000006e0: 20 20 20 77 68 69 6C 65 20 28 31 29 3B 0D 0A 20    ...while.(1);...
000006f0: 20 20 20 7D 0D 0A 7D 0D 0A 20 0D 0A 76 6F 69 64    ...}..}.....void
00000700: 20 6C 6F 6F 70 28 29 20 0D 0A 7B 0D 0A 20 20 6C    .loop()...{....l
00000710: 63 64 2E 73 65 74 43 75 72 73 6F 72 28 30 2C 30    cd.setCursor(0,0
00000720: 29 3B 0D 0A 20 20 20 20 6C 63 64 2E 70 72 69 6E    );......lcd.prin
00000730: 74 28 22 48 55 4D 49 20 20 20 20 3D 22 29 3B 0D    t("HUMI....=");.
00000740: 0A 20 20 20 6C 63 64 2E 70 72 69 6E 74 28 44 48    ....lcd.print(DH
00000750: 54 2E 68 75 6D 69 64 69 74 79 29 3B 0D 0A 20 20    T.humidity);....
00000760: 20 6C 63 64 2E 70 72 69 6E 74 28 22 25 20 20 22    .lcd.print("%.."
00000770: 29 3B 0D 0A 20 20 20 6C 63 64 2E 73 65 74 43 75    );.....lcd.setCu
00000780: 72 73 6F 72 28 30 2C 31 29 3B 0D 0A 20 20 20 6C    rsor(0,1);.....l
00000790: 63 64 2E 70 72 69 6E 74 28 22 54 45 4D 50 20 20    cd.print("TEMP..
000007a0: 20 20 3D 22 29 3B 0D 0A 20 20 20 20 6C 63 64 2E    ..=");......lcd.
000007b0: 70 72 69 6E 74 28 20 20 20 44 48 54 2E 74 65 6D    print(...DHT.tem
000007c0: 70 65 72 61 74 75 72 65 29 3B 20 0D 0A 20 20 20    perature);......
000007d0: 6C 63 64 2E 70 72 69 6E 74 6C 6E 28 22 27 43 20    lcd.println("'C.
000007e0: 20 22 29 3B 0D 0A 20 20 20 64 65 6C 61 79 28 35    .");.....delay(5
000007f0: 30 30 30 29 3B 0D 0A 20 20 20 6C 63 64 2E 63 6C    000);.....lcd.cl
00000800: 65 61 72 28 29 3B 0D 0A 20 6C 63 64 2E 73 65 74    ear();...lcd.set
00000810: 43 75 72 73 6F 72 28 30 2C 30 29 3B 0D 0A 20 6C    Cursor(0,0);...l
00000820: 63 64 2E 70 72 69 6E 74 28 22 20 20 50 72 65 73    cd.print("..Pres
00000830: 73 20 4D 61 74 63 68 20 20 20 20 20 20 20 22 29    s.Match.......")
00000840: 3B 0D 0A 20 6C 63 64 2E 73 65 74 43 75 72 73 6F    ;...lcd.setCurso
00000850: 72 28 30 2C 31 29 3B 0D 0A 20 6C 63 64 2E 70 72    r(0,1);...lcd.pr
00000860: 69 6E 74 28 22 54 6F 20 53 74 61 72 74 20 53 79    int("To.Start.Sy
00000870: 73 74 65 6D 22 29 3B 0D 0A 20 64 69 67 69 74 61    stem");...digita
00000880: 6C 57 72 69 74 65 28 63 6C 6F 73 65 4C 69 67 68    lWrite(closeLigh
00000890: 74 2C 20 48 49 47 48 29 3B 0D 0A 20 69 66 28 64    t,.HIGH);...if(d
000008a0: 69 67 69 74 61 6C 52 65 61 64 28 75 70 29 3D 3D    igitalRead(up)==
000008b0: 30 20 7C 7C 20 64 69 67 69 74 61 6C 52 65 61 64    0.||.digitalRead
000008c0: 28 64 6F 77 6E 29 3D 3D 30 29 0D 0A 20 7B 0D 0A    (down)==0)...{..
000008d0: 20 20 66 6F 72 28 69 6E 74 20 69 3D 30 3B 69 3C    ..for(int.i=0;i<
000008e0: 35 3B 69 2B 2B 29 20 7B 20 6C 63 64 2E 63 6C 65    5;i++).{.lcd.cle
000008f0: 61 72 28 29 3B 20 6C 63 64 2E 70 72 69 6E 74 28    ar();.lcd.print(
00000900: 22 50 6C 61 63 65 20 46 69 6E 67 65 72 22 29 3B    "Place.Finger");
00000910: 20 64 65 6C 61 79 28 32 30 30 30 29 3B 20 69 6E    .delay(2000);.in
00000920: 74 20 72 65 73 75 6C 74 3D 67 65 74 46 69 6E 67    t.result=getFing
00000930: 65 72 70 72 69 6E 74 49 44 65 7A 28 29 3B 20 69    erprintIDez();.i
00000940: 66 28 72 65 73 75 6C 74 3E 3D 30 29 0D 0A 20 20    f(result>=0)....
00000950: 20 20 7B 0D 0A 20 20 20 20 20 20 20 20 64 69 67    ..{..........dig
00000960: 69 74 61 6C 57 72 69 74 65 28 6F 70 65 6E 4C 69    italWrite(openLi
00000970: 67 68 74 2C 20 48 49 47 48 29 3B 0D 0A 20 20 20    ght,.HIGH);.....
00000980: 20 20 20 20 20 64 69 67 69 74 61 6C 57 72 69 74    .....digitalWrit
00000990: 65 28 63 6C 6F 73 65 4C 69 67 68 74 2C 20 4C 4F    e(closeLight,.LO
000009a0: 57 29 3B 0D 0A 20 20 20 20 20 20 20 20 6C 63 64    W);..........lcd
000009b0: 2E 63 6C 65 61 72 28 29 3B 0D 0A 20 20 20 20 20    .clear();.......
000009c0: 20 20 20 6C 63 64 2E 70 72 69 6E 74 28 22 20 20    ...lcd.print("..
000009d0: 20 20 41 6C 6C 6F 77 65 64 20 20 20 20 22 29 3B    ..Allowed....");
000009e0: 0D 0A 20 20 20 20 20 20 20 20 6C 63 64 2E 73 65    ..........lcd.se
000009f0: 74 43 75 72 73 6F 72 28 30 2C 31 29 3B 0D 0A 20    tCursor(0,1);...
00000a00: 20 20 20 20 20 20 20 6C 63 64 2E 70 72 69 6E 74    .......lcd.print
00000a10: 28 22 20 20 47 61 74 65 20 4F 70 65 6E 65 64 20    ("..Gate.Opened.
00000a20: 20 20 22 29 3B 0D 0A 20 20 20 20 20 20 20 20 6D    ..");..........m
00000a30: 79 53 65 72 76 6F 2E 77 72 69 74 65 28 30 29 3B    yServo.write(0);
00000a40: 0D 0A 20 20 20 20 20 20 20 20 64 65 6C 61 79 28    ..........delay(
00000a50: 35 30 30 30 29 3B 0D 0A 20 20 20 20 20 20 20 20    5000);..........
00000a60: 6D 79 53 65 72 76 6F 2E 77 72 69 74 65 28 31 38    myServo.write(18
00000a70: 30 29 3B 0D 0A 20 20 20 20 20 20 20 20 64 69 67    0);..........dig
00000a80: 69 74 61 6C 57 72 69 74 65 28 63 6C 6F 73 65 4C    italWrite(closeL
00000a90: 69 67 68 74 2C 20 48 49 47 48 29 3B 0D 0A 20 20    ight,.HIGH);....
00000aa0: 20 20 20 20 20 20 64 69 67 69 74 61 6C 57 72 69    ......digitalWri
00000ab0: 74 65 28 6F 70 65 6E 4C 69 67 68 74 2C 20 4C 4F    te(openLight,.LO
00000ac0: 57 29 3B 0D 0A 20 20 20 20 20 20 20 20 6C 63 64    W);..........lcd
00000ad0: 2E 73 65 74 43 75 72 73 6F 72 28 30 2C 31 29 3B    .setCursor(0,1);
00000ae0: 0D 0A 20 20 20 20 20 20 20 20 6C 63 64 2E 70 72    ..........lcd.pr
00000af0: 69 6E 74 28 22 20 20 47 61 74 65 20 43 6C 6F 73    int("..Gate.Clos
00000b00: 65 64 20 20 20 22 29 3B 0D 0A 20 20 20 20 20 20    ed...");........
00000b10: 20 20 72 65 74 75 72 6E 3B 0D 0A 20 20 20 20 20    ..return;.......
00000b20: 7D 0D 0A 20 20 20 7D 0D 0A 20 7D 0D 0A 20 63 68    }.....}...}...ch
00000b30: 65 63 6B 4B 65 79 73 28 29 3B 0D 0A 20 64 65 6C    eckKeys();...del
00000b40: 61 79 28 32 30 30 30 29 3B 0D 0A 20 69 66 28 20    ay(2000);...if(.
00000b50: 63 75 72 72 65 6E 74 70 6F 73 69 74 69 6F 6E 3D    currentposition=
00000b60: 3D 30 20 26 61 6D 70 3B 26 61 6D 70 3B 20 64 69    =0.&amp;&amp;.di
00000b70: 67 69 74 61 6C 52 65 61 64 28 72 61 62 69 6E 29    gitalRead(rabin)
00000b80: 20 3D 3D 20 30 29 0D 0A 7B 0D 0A 64 69 73 70 6C    .==.0)..{..displ
00000b90: 61 79 73 63 72 65 65 6E 28 29 3B 0D 0A 20 0D 0A    ayscreen();.....
00000ba0: 7D 0D 0A 69 6E 74 20 6C 20 3B 0D 0A 63 68 61 72    }..int.l.;..char
00000bb0: 20 63 6F 64 65 3D 6B 65 79 70 61 64 2E 67 65 74    .code=keypad.get
00000bc0: 4B 65 79 28 29 3B 0D 0A 69 66 28 63 6F 64 65 21    Key();..if(code!
00000bd0: 3D 4E 4F 5F 4B 45 59 29 0D 0A 7B 0D 0A 6C 63 64    =NO_KEY)..{..lcd
00000be0: 2E 63 6C 65 61 72 28 29 3B 0D 0A 6C 63 64 2E 73    .clear();..lcd.s
00000bf0: 65 74 43 75 72 73 6F 72 28 30 2C 30 29 3B 0D 0A    etCursor(0,0);..
00000c00: 6C 63 64 2E 70 72 69 6E 74 28 22 50 41 53 53 57    lcd.print("PASSW
00000c10: 4F 52 44 3A 22 29 3B 0D 0A 6C 63 64 2E 73 65 74    ORD:");..lcd.set
00000c20: 43 75 72 73 6F 72 28 37 2C 31 29 3B 0D 0A 6C 63    Cursor(7,1);..lc
00000c30: 64 2E 70 72 69 6E 74 28 22 20 22 29 3B 0D 0A 6C    d.print(".");..l
00000c40: 63 64 2E 73 65 74 43 75 72 73 6F 72 28 37 2C 31    cd.setCursor(7,1
00000c50: 29 3B 0D 0A 66 6F 72 28 6C 3D 30 3B 6C 3C 3D 63    );..for(l=0;l<=c
00000c60: 75 72 72 65 6E 74 70 6F 73 69 74 69 6F 6E 3B 2B    urrentposition;+
00000c70: 2B 6C 29 0D 0A 7B 0D 0A 20 0D 0A 6C 63 64 2E 70    +l)..{.....lcd.p
00000c80: 72 69 6E 74 28 22 2A 22 29 3B 0D 0A 6B 65 79 70    rint("*");..keyp
00000c90: 72 65 73 73 28 29 3B 0D 0A 7D 0D 0A 20 0D 0A 69    ress();..}.....i
00000ca0: 66 20 28 63 6F 64 65 3D 3D 70 61 73 73 77 6F 72    f.(code==passwor
00000cb0: 64 5B 63 75 72 72 65 6E 74 70 6F 73 69 74 69 6F    d[currentpositio
00000cc0: 6E 5D 29 0D 0A 7B 0D 0A 2B 2B 63 75 72 72 65 6E    n])..{..++curren
00000cd0: 74 70 6F 73 69 74 69 6F 6E 3B 0D 0A 69 66 28 63    tposition;..if(c
00000ce0: 75 72 72 65 6E 74 70 6F 73 69 74 69 6F 6E 3D 3D    urrentposition==
00000cf0: 34 29 0D 0A 7B 0D 0A 20 0D 0A 75 6E 6C 6F 63 6B    4)..{.....unlock
00000d00: 64 6F 6F 72 28 29 3B 0D 0A 63 75 72 72 65 6E 74    door();..current
00000d10: 70 6F 73 69 74 69 6F 6E 3D 30 3B 0D 0A 20 0D 0A    position=0;.....
00000d20: 7D 0D 0A 20 0D 0A 7D 0D 0A 20 0D 0A 65 6C 73 65    }.....}.....else
00000d30: 0D 0A 7B 0D 0A 2B 2B 69 6E 76 61 6C 69 64 63 6F    ..{..++invalidco
00000d40: 75 6E 74 3B 0D 0A 69 6E 63 6F 72 72 65 63 74 28    unt;..incorrect(
00000d50: 29 3B 0D 0A 63 75 72 72 65 6E 74 70 6F 73 69 74    );..currentposit
00000d60: 69 6F 6E 3D 30 3B 0D 0A 20 0D 0A 7D 0D 0A 69 66    ion=0;.....}..if
00000d70: 28 69 6E 76 61 6C 69 64 63 6F 75 6E 74 3D 3D 35    (invalidcount==5
00000d80: 29 0D 0A 7B 0D 0A 20 0D 0A 2B 2B 69 6E 76 61 6C    )..{.....++inval
00000d90: 69 64 63 6F 75 6E 74 3B 0D 0A 74 6F 72 74 75 72    idcount;..tortur
00000da0: 65 31 28 29 3B 0D 0A 20 0D 0A 7D 0D 0A 69 66 28    e1();.....}..if(
00000db0: 69 6E 76 61 6C 69 64 63 6F 75 6E 74 3D 3D 38 29    invalidcount==8)
00000dc0: 0D 0A 7B 0D 0A 74 6F 72 74 75 72 65 32 28 29 3B    ..{..torture2();
00000dd0: 0D 0A 7D 0D 0A 7D 0D 0A 20 0D 0A 76 6F 69 64 20    ..}..}.....void.
00000de0: 63 68 65 63 6B 4B 65 79 73 28 29 0D 0A 7B 0D 0A    checkKeys()..{..
00000df0: 20 20 20 69 66 28 64 69 67 69 74 61 6C 52 65 61    ...if(digitalRea
00000e00: 64 28 65 6E 72 6F 6C 6C 29 20 3D 3D 20 30 29 0D    d(enroll).==.0).
00000e10: 0A 20 20 20 7B 0D 0A 20 20 20 20 6C 63 64 2E 63    ....{......lcd.c
00000e20: 6C 65 61 72 28 29 3B 0D 0A 20 20 20 20 6C 63 64    lear();......lcd
00000e30: 2E 70 72 69 6E 74 28 22 50 6C 65 61 73 65 20 57    .print("Please.W
00000e40: 61 69 74 22 29 3B 0D 0A 20 20 20 20 64 65 6C 61    ait");......dela
00000e50: 79 28 32 30 30 30 29 3B 0D 0A 20 20 20 20 77 68    y(2000);......wh
00000e60: 69 6C 65 28 64 69 67 69 74 61 6C 52 65 61 64 28    ile(digitalRead(
00000e70: 65 6E 72 6F 6C 6C 29 20 3D 3D 20 30 29 3B 0D 0A    enroll).==.0);..
00000e80: 20 20 20 20 45 6E 72 6F 6C 6C 28 29 3B 0D 0A 20    ....Enroll();...
00000e90: 20 20 7D 0D 0A 20 0D 0A 20 20 20 65 6C 73 65 20    ..}........else.
00000ea0: 69 66 28 64 69 67 69 74 61 6C 52 65 61 64 28 64    if(digitalRead(d
00000eb0: 65 6C 29 20 3D 3D 20 30 29 0D 0A 20 20 20 7B 0D    el).==.0).....{.
00000ec0: 0A 20 20 20 20 6C 63 64 2E 63 6C 65 61 72 28 29    .....lcd.clear()
00000ed0: 3B 0D 0A 20 20 20 20 6C 63 64 2E 70 72 69 6E 74    ;......lcd.print
00000ee0: 28 22 50 6C 65 61 73 65 20 57 61 69 74 22 29 3B    ("Please.Wait");
00000ef0: 0D 0A 20 20 20 20 64 65 6C 61 79 28 32 30 30 30    ......delay(2000
00000f00: 29 3B 0D 0A 20 20 20 20 64 65 6C 65 74 28 29 3B    );......delet();
00000f10: 0D 0A 20 20 20 7D 20 20 0D 0A 7D 0D 0A 20 0D 0A    .....}....}.....
00000f20: 76 6F 69 64 20 45 6E 72 6F 6C 6C 28 29 0D 0A 7B    void.Enroll()..{
00000f30: 0D 0A 20 20 20 69 6E 74 20 63 6F 75 6E 74 3D 30    .....int.count=0
00000f40: 3B 0D 0A 20 20 20 6C 63 64 2E 63 6C 65 61 72 28    ;.....lcd.clear(
00000f50: 29 3B 0D 0A 20 20 20 6C 63 64 2E 70 72 69 6E 74    );.....lcd.print
00000f60: 28 22 45 6E 72 6F 6C 6C 20 46 69 6E 67 65 72 20    ("Enroll.Finger.
00000f70: 20 20 20 22 29 3B 0D 0A 20 20 20 6C 63 64 2E 73    ...");.....lcd.s
00000f80: 65 74 43 75 72 73 6F 72 28 30 2C 31 29 3B 0D 0A    etCursor(0,1);..
00000f90: 20 20 20 6C 63 64 2E 70 72 69 6E 74 28 22 4C 6F    ...lcd.print("Lo
00000fa0: 63 61 74 69 6F 6E 3A 22 29 3B 0D 0A 20 20 20 77    cation:");.....w
00000fb0: 68 69 6C 65 28 31 29 0D 0A 20 20 20 7B 0D 0A 20    hile(1).....{...
00000fc0: 20 20 20 20 6C 63 64 2E 73 65 74 43 75 72 73 6F    ....lcd.setCurso
00000fd0: 72 28 39 2C 31 29 3B 0D 0A 20 20 20 20 20 6C 63    r(9,1);.......lc
00000fe0: 64 2E 70 72 69 6E 74 28 63 6F 75 6E 74 29 3B 0D    d.print(count);.
00000ff0: 0A 20 20 20 20 20 69 66 28 64 69 67 69 74 61 6C    ......if(digital
00001000: 52 65 61 64 28 75 70 29 20 3D 3D 20 30 29 0D 0A    Read(up).==.0)..
00001010: 20 20 20 20 20 7B 0D 0A 20 20 20 20 20 20 20 63    .....{.........c
00001020: 6F 75 6E 74 2B 2B 3B 0D 0A 20 20 20 20 20 20 20    ount++;.........
00001030: 69 66 28 63 6F 75 6E 74 3E 32 35 29 0D 0A 20 20    if(count>25)....
00001040: 20 20 20 20 20 63 6F 75 6E 74 3D 30 3B 0D 0A 20    .....count=0;...
00001050: 20 20 20 20 20 20 64 65 6C 61 79 28 35 30 30 29    ......delay(500)
00001060: 3B 0D 0A 20 20 20 20 20 7D 0D 0A 20 0D 0A 20 20    ;.......}.......
00001070: 20 20 20 65 6C 73 65 20 69 66 28 64 69 67 69 74    ...else.if(digit
00001080: 61 6C 52 65 61 64 28 64 6F 77 6E 29 20 3D 3D 20    alRead(down).==.
00001090: 30 29 0D 0A 20 20 20 20 20 7B 0D 0A 20 20 20 20    0).......{......
000010a0: 20 20 20 63 6F 75 6E 74 2D 2D 3B 0D 0A 20 20 20    ...count--;.....
000010b0: 20 20 20 20 69 66 28 63 6F 75 6E 74 3C 30 29 20    ....if(count<0).
000010c0: 63 6F 75 6E 74 3D 32 35 3B 20 64 65 6C 61 79 28    count=25;.delay(
000010d0: 35 30 30 29 3B 20 7D 20 65 6C 73 65 20 69 66 28    500);.}.else.if(
000010e0: 64 69 67 69 74 61 6C 52 65 61 64 28 64 65 6C 29    digitalRead(del)
000010f0: 20 3D 3D 20 30 29 20 7B 20 69 64 3D 63 6F 75 6E    .==.0).{.id=coun
00001100: 74 3B 20 67 65 74 46 69 6E 67 65 72 70 72 69 6E    t;.getFingerprin
00001110: 74 45 6E 72 6F 6C 6C 28 29 3B 20 72 65 74 75 72    tEnroll();.retur
00001120: 6E 3B 20 7D 20 65 6C 73 65 20 69 66 28 64 69 67    n;.}.else.if(dig
00001130: 69 74 61 6C 52 65 61 64 28 65 6E 72 6F 6C 6C 29    italRead(enroll)
00001140: 20 3D 3D 20 30 29 20 7B 20 72 65 74 75 72 6E 3B    .==.0).{.return;
00001150: 20 7D 20 7D 20 7D 20 76 6F 69 64 20 64 65 6C 65    .}.}.}.void.dele
00001160: 74 28 29 20 7B 20 69 6E 74 20 63 6F 75 6E 74 3D    t().{.int.count=
00001170: 30 3B 20 6C 63 64 2E 63 6C 65 61 72 28 29 3B 20    0;.lcd.clear();.
00001180: 6C 63 64 2E 70 72 69 6E 74 28 22 44 65 6C 65 74    lcd.print("Delet
00001190: 65 20 46 69 6E 67 65 72 20 22 29 3B 20 6C 63 64    e.Finger.");.lcd
000011a0: 2E 73 65 74 43 75 72 73 6F 72 28 30 2C 31 29 3B    .setCursor(0,1);
000011b0: 20 6C 63 64 2E 70 72 69 6E 74 28 22 4C 6F 63 61    .lcd.print("Loca
000011c0: 74 69 6F 6E 3A 22 29 3B 20 77 68 69 6C 65 28 31    tion:");.while(1
000011d0: 29 20 7B 20 6C 63 64 2E 73 65 74 43 75 72 73 6F    ).{.lcd.setCurso
000011e0: 72 28 39 2C 31 29 3B 20 6C 63 64 2E 70 72 69 6E    r(9,1);.lcd.prin
000011f0: 74 28 63 6F 75 6E 74 29 3B 20 69 66 28 64 69 67    t(count);.if(dig
00001200: 69 74 61 6C 52 65 61 64 28 75 70 29 20 3D 3D 20    italRead(up).==.
00001210: 30 29 20 7B 20 63 6F 75 6E 74 2B 2B 3B 20 69 66    0).{.count++;.if
00001220: 28 63 6F 75 6E 74 3E 32 35 29 0D 0A 20 20 20 20    (count>25)......
00001230: 20 20 20 63 6F 75 6E 74 3D 30 3B 0D 0A 20 20 20    ...count=0;.....
00001240: 20 20 20 20 64 65 6C 61 79 28 35 30 30 29 3B 0D    ....delay(500);.
00001250: 0A 20 20 20 20 20 7D 0D 0A 20 0D 0A 20 20 20 20    ......}.........
00001260: 20 65 6C 73 65 20 69 66 28 64 69 67 69 74 61 6C    .else.if(digital
00001270: 52 65 61 64 28 64 6F 77 6E 29 20 3D 3D 20 30 29    Read(down).==.0)
00001280: 0D 0A 20 20 20 20 20 7B 0D 0A 20 20 20 20 20 20    .......{........
00001290: 20 63 6F 75 6E 74 2D 2D 3B 0D 0A 20 20 20 20 20    .count--;.......
000012a0: 20 20 69 66 28 63 6F 75 6E 74 3C 30 29 0D 0A 20    ..if(count<0)...
000012b0: 20 20 20 20 20 20 63 6F 75 6E 74 3D 32 35 3B 0D    ......count=25;.
000012c0: 0A 20 20 20 20 20 20 20 64 65 6C 61 79 28 35 30    ........delay(50
000012d0: 30 29 3B 0D 0A 20 20 20 20 20 7D 0D 0A 20 20 20    0);.......}.....
000012e0: 20 20 65 6C 73 65 20 69 66 28 64 69 67 69 74 61    ..else.if(digita
000012f0: 6C 52 65 61 64 28 64 65 6C 29 20 3D 3D 20 30 29    lRead(del).==.0)
00001300: 0D 0A 20 20 20 20 20 7B 0D 0A 20 20 20 20 20 20    .......{........
00001310: 20 20 20 20 69 64 3D 63 6F 75 6E 74 3B 0D 0A 20    ....id=count;...
00001320: 20 20 20 20 20 20 20 20 20 64 65 6C 65 74 65 46    .........deleteF
00001330: 69 6E 67 65 72 70 72 69 6E 74 28 69 64 29 3B 0D    ingerprint(id);.
00001340: 0A 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00001350: 6E 3B 0D 0A 20 20 20 20 20 7D 0D 0A 20 0D 0A 20    n;.......}......
00001360: 20 20 20 20 20 20 65 6C 73 65 20 69 66 28 64 69    ......else.if(di
00001370: 67 69 74 61 6C 52 65 61 64 28 65 6E 72 6F 6C 6C    gitalRead(enroll
00001380: 29 20 3D 3D 20 30 29 0D 0A 20 20 20 20 20 7B 20    ).==.0).......{.
00001390: 20 20 20 20 20 20 20 0D 0A 20 20 20 20 20 20 20    ................
000013a0: 20 20 20 72 65 74 75 72 6E 3B 0D 0A 20 20 20 20    ...return;......
000013b0: 20 7D 0D 0A 20 7D 0D 0A 7D 0D 0A 20 0D 0A 75 69    .}...}..}.....ui
000013c0: 6E 74 38 5F 74 20 67 65 74 46 69 6E 67 65 72 70    nt8_t.getFingerp
000013d0: 72 69 6E 74 45 6E 72 6F 6C 6C 28 29 20 0D 0A 7B    rintEnroll()...{
000013e0: 0D 0A 20 20 69 6E 74 20 70 20 3D 20 2D 31 3B 0D    ....int.p.=.-1;.
000013f0: 0A 20 20 6C 63 64 2E 63 6C 65 61 72 28 29 3B 0D    ...lcd.clear();.
00001400: 0A 20 20 6C 63 64 2E 70 72 69 6E 74 28 22 46 69    ...lcd.print("Fi
00001410: 6E 67 65 72 20 49 44 3A 22 29 3B 0D 0A 20 20 6C    nger.ID:");....l
00001420: 63 64 2E 70 72 69 6E 74 28 69 64 29 3B 0D 0A 20    cd.print(id);...
00001430: 20 6C 63 64 2E 73 65 74 43 75 72 73 6F 72 28 30    .lcd.setCursor(0
00001440: 2C 31 29 3B 0D 0A 20 20 6C 63 64 2E 70 72 69 6E    ,1);....lcd.prin
00001450: 74 28 22 50 6C 61 63 65 20 46 69 6E 67 65 72 22    t("Place.Finger"
00001460: 29 3B 0D 0A 20 20 64 65 6C 61 79 28 32 30 30 30    );....delay(2000
00001470: 29 3B 0D 0A 20 20 77 68 69 6C 65 20 28 70 20 21    );....while.(p.!
00001480: 3D 20 46 49 4E 47 45 52 50 52 49 4E 54 5F 4F 4B    =.FINGERPRINT_OK
00001490: 29 0D 0A 20 20 7B 0D 0A 20 20 20 20 70 20 3D 20    )....{......p.=.
000014a0: 66 69 6E 67 65 72 2E 67 65 74 49 6D 61 67 65 28    finger.getImage(
000014b0: 29 3B 0D 0A 20 20 20 20 73 77 69 74 63 68 20 28    );......switch.(
000014c0: 70 29 0D 0A 20 20 20 20 7B 0D 0A 20 20 20 20 63    p)......{......c
000014d0: 61 73 65 20 46 49 4E 47 45 52 50 52 49 4E 54 5F    ase.FINGERPRINT_
000014e0: 4F 4B 3A 0D 0A 20 20 20 20 20 20 53 65 72 69 61    OK:........Seria
000014f0: 6C 2E 70 72 69 6E 74 6C 6E 28 22 49 6D 61 67 65    l.println("Image
00001500: 20 74 61 6B 65 6E 22 29 3B 0D 0A 20 20 20 20 20    .taken");.......
00001510: 20 6C 63 64 2E 63 6C 65 61 72 28 29 3B 0D 0A 20    .lcd.clear();...
00001520: 20 20 20 20 20 6C 63 64 2E 70 72 69 6E 74 28 22    .....lcd.print("
00001530: 49 6D 61 67 65 20 74 61 6B 65 6E 22 29 3B 0D 0A    Image.taken");..
00001540: 20 20 20 20 20 20 62 72 65 61 6B 3B 0D 0A 20 20    ......break;....
00001550: 20 20 63 61 73 65 20 46 49 4E 47 45 52 50 52 49    ..case.FINGERPRI
00001560: 4E 54 5F 4E 4F 46 49 4E 47 45 52 3A 0D 0A 20 20    NT_NOFINGER:....
00001570: 20 20 20 20 53 65 72 69 61 6C 2E 70 72 69 6E 74    ....Serial.print
00001580: 6C 6E 28 22 4E 6F 20 46 69 6E 67 65 72 22 29 3B    ln("No.Finger");
00001590: 0D 0A 20 20 20 20 20 20 6C 63 64 2E 63 6C 65 61    ........lcd.clea
000015a0: 72 28 29 3B 0D 0A 20 20 20 20 20 20 6C 63 64 2E    r();........lcd.
000015b0: 70 72 69 6E 74 28 22 4E 6F 20 46 69 6E 67 65 72    print("No.Finger
000015c0: 22 29 3B 0D 0A 20 20 20 20 20 20 62 72 65 61 6B    ");........break
000015d0: 3B 0D 0A 20 20 20 20 63 61 73 65 20 46 49 4E 47    ;......case.FING
000015e0: 45 52 50 52 49 4E 54 5F 50 41 43 4B 45 54 52 45    ERPRINT_PACKETRE
000015f0: 43 49 45 56 45 45 52 52 3A 0D 0A 20 20 20 20 20    CIEVEERR:.......
00001600: 20 53 65 72 69 61 6C 2E 70 72 69 6E 74 6C 6E 28    .Serial.println(
00001610: 22 43 6F 6D 6D 75 6E 69 63 61 74 69 6F 6E 20 65    "Communication.e
00001620: 72 72 6F 72 22 29 3B 0D 0A 20 20 20 20 20 20 6C    rror");........l
00001630: 63 64 2E 63 6C 65 61 72 28 29 3B 0D 0A 20 20 20    cd.clear();.....
00001640: 20 20 20 6C 63 64 2E 70 72 69 6E 74 28 22 43 6F    ...lcd.print("Co
00001650: 6D 6D 20 45 72 72 6F 72 22 29 3B 0D 0A 20 20 20    mm.Error");.....
00001660: 20 20 20 62 72 65 61 6B 3B 0D 0A 20 20 20 20 63    ...break;......c
00001670: 61 73 65 20 46 49 4E 47 45 52 50 52 49 4E 54 5F    ase.FINGERPRINT_
00001680: 49 4D 41 47 45 46 41 49 4C 3A 0D 0A 20 20 20 20    IMAGEFAIL:......
